                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.9.0 #11195 (FreeBSD)
                                      4 ;--------------------------------------------------------
                                      5 	.module stm8s_itc_GetSoftwarePriority
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _ITC_GetSoftwarePriority
                                     12 ;--------------------------------------------------------
                                     13 ; ram data
                                     14 ;--------------------------------------------------------
                                     15 	.area DATA
                                     16 ;--------------------------------------------------------
                                     17 ; ram data
                                     18 ;--------------------------------------------------------
                                     19 	.area INITIALIZED
                                     20 ;--------------------------------------------------------
                                     21 ; absolute external ram data
                                     22 ;--------------------------------------------------------
                                     23 	.area DABS (ABS)
                                     24 
                                     25 ; default segment ordering for linker
                                     26 	.area HOME
                                     27 	.area GSINIT
                                     28 	.area GSFINAL
                                     29 	.area CONST
                                     30 	.area INITIALIZER
                                     31 	.area CODE
                                     32 
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area HOME
                                     37 	.area GSINIT
                                     38 	.area GSFINAL
                                     39 	.area GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area HOME
                                     44 	.area HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area CODE
                                     49 ;	./src/stm8s_itc_GetSoftwarePriority.c: 46: ITC_PriorityLevel_TypeDef ITC_GetSoftwarePriority(ITC_Irq_TypeDef IrqNum)
                                     50 ;	-----------------------------------------
                                     51 ;	 function ITC_GetSoftwarePriority
                                     52 ;	-----------------------------------------
      000000                         53 _ITC_GetSoftwarePriority:
      000000 52 03            [ 2]   54 	sub	sp, #3
                                     55 ;	./src/stm8s_itc_GetSoftwarePriority.c: 48: uint8_t Value = 0;
      000002 0F 01            [ 1]   56 	clr	(0x01, sp)
                                     57 ;	./src/stm8s_itc_GetSoftwarePriority.c: 55: Mask = (uint8_t)(0x03U << (((uint8_t)IrqNum % 4U) * 2U));
      000004 7B 06            [ 1]   58 	ld	a, (0x06, sp)
      000006 90 5F            [ 1]   59 	clrw	y
      000008 A4 03            [ 1]   60 	and	a, #0x03
      00000A 48               [ 1]   61 	sll	a
      00000B 6B 02            [ 1]   62 	ld	(0x02, sp), a
      00000D A6 03            [ 1]   63 	ld	a, #0x03
      00000F 6B 03            [ 1]   64 	ld	(0x03, sp), a
      000011 7B 02            [ 1]   65 	ld	a, (0x02, sp)
      000013 27 05            [ 1]   66 	jreq	00132$
      000015                         67 00131$:
      000015 08 03            [ 1]   68 	sll	(0x03, sp)
      000017 4A               [ 1]   69 	dec	a
      000018 26 FB            [ 1]   70 	jrne	00131$
      00001A                         71 00132$:
                                     72 ;	./src/stm8s_itc_GetSoftwarePriority.c: 57: switch (IrqNum)
      00001A 7B 06            [ 1]   73 	ld	a, (0x06, sp)
      00001C A1 18            [ 1]   74 	cp	a, #0x18
      00001E 22 78            [ 1]   75 	jrugt	00123$
      000020 5F               [ 1]   76 	clrw	x
      000021 7B 06            [ 1]   77 	ld	a, (0x06, sp)
      000023 97               [ 1]   78 	ld	xl, a
      000024 58               [ 2]   79 	sllw	x
      000025 DEu00u29         [ 2]   80 	ldw	x, (#00134$, x)
      000028 FC               [ 2]   81 	jp	(x)
      000029                         82 00134$:
      000029r00r5B                   83 	.dw	#00104$
      00002Br00r5B                   84 	.dw	#00104$
      00002Dr00r5B                   85 	.dw	#00104$
      00002Fr00r5B                   86 	.dw	#00104$
      000031r00r64                   87 	.dw	#00108$
      000033r00r64                   88 	.dw	#00108$
      000035r00r64                   89 	.dw	#00108$
      000037r00r64                   90 	.dw	#00108$
      000039r00r98                   91 	.dw	#00123$
      00003Br00r98                   92 	.dw	#00123$
      00003Dr00r6D                   93 	.dw	#00110$
      00003Fr00r6D                   94 	.dw	#00110$
      000041r00r76                   95 	.dw	#00114$
      000043r00r76                   96 	.dw	#00114$
      000045r00r76                   97 	.dw	#00114$
      000047r00r76                   98 	.dw	#00114$
      000049r00r7F                   99 	.dw	#00118$
      00004Br00r7F                  100 	.dw	#00118$
      00004Dr00r7F                  101 	.dw	#00118$
      00004Fr00r7F                  102 	.dw	#00118$
      000051r00r98                  103 	.dw	#00123$
      000053r00r98                  104 	.dw	#00123$
      000055r00r88                  105 	.dw	#00120$
      000057r00r88                  106 	.dw	#00120$
      000059r00r91                  107 	.dw	#00121$
                                    108 ;	./src/stm8s_itc_GetSoftwarePriority.c: 62: case ITC_IRQ_PORTA:
      00005B                        109 00104$:
                                    110 ;	./src/stm8s_itc_GetSoftwarePriority.c: 63: Value = (uint8_t)(ITC->ISPR1 & Mask); /* Read software priority */
      00005B C6 7F 70         [ 1]  111 	ld	a, 0x7f70
      00005E 14 03            [ 1]  112 	and	a, (0x03, sp)
      000060 6B 01            [ 1]  113 	ld	(0x01, sp), a
                                    114 ;	./src/stm8s_itc_GetSoftwarePriority.c: 64: break;
      000062 20 34            [ 2]  115 	jra	00123$
                                    116 ;	./src/stm8s_itc_GetSoftwarePriority.c: 69: case ITC_IRQ_PORTE:
      000064                        117 00108$:
                                    118 ;	./src/stm8s_itc_GetSoftwarePriority.c: 70: Value = (uint8_t)(ITC->ISPR2 & Mask); /* Read software priority */
      000064 C6 7F 71         [ 1]  119 	ld	a, 0x7f71
      000067 14 03            [ 1]  120 	and	a, (0x03, sp)
      000069 6B 01            [ 1]  121 	ld	(0x01, sp), a
                                    122 ;	./src/stm8s_itc_GetSoftwarePriority.c: 71: break;
      00006B 20 2B            [ 2]  123 	jra	00123$
                                    124 ;	./src/stm8s_itc_GetSoftwarePriority.c: 81: case ITC_IRQ_TIM1_OVF:
      00006D                        125 00110$:
                                    126 ;	./src/stm8s_itc_GetSoftwarePriority.c: 82: Value = (uint8_t)(ITC->ISPR3 & Mask); /* Read software priority */
      00006D C6 7F 72         [ 1]  127 	ld	a, 0x7f72
      000070 14 03            [ 1]  128 	and	a, (0x03, sp)
      000072 6B 01            [ 1]  129 	ld	(0x01, sp), a
                                    130 ;	./src/stm8s_itc_GetSoftwarePriority.c: 83: break;
      000074 20 22            [ 2]  131 	jra	00123$
                                    132 ;	./src/stm8s_itc_GetSoftwarePriority.c: 93: case ITC_IRQ_TIM3_OVF:
      000076                        133 00114$:
                                    134 ;	./src/stm8s_itc_GetSoftwarePriority.c: 94: Value = (uint8_t)(ITC->ISPR4 & Mask); /* Read software priority */
      000076 C6 7F 73         [ 1]  135 	ld	a, 0x7f73
      000079 14 03            [ 1]  136 	and	a, (0x03, sp)
      00007B 6B 01            [ 1]  137 	ld	(0x01, sp), a
                                    138 ;	./src/stm8s_itc_GetSoftwarePriority.c: 95: break;
      00007D 20 19            [ 2]  139 	jra	00123$
                                    140 ;	./src/stm8s_itc_GetSoftwarePriority.c: 107: case ITC_IRQ_I2C:
      00007F                        141 00118$:
                                    142 ;	./src/stm8s_itc_GetSoftwarePriority.c: 108: Value = (uint8_t)(ITC->ISPR5 & Mask); /* Read software priority */
      00007F C6 7F 74         [ 1]  143 	ld	a, 0x7f74
      000082 14 03            [ 1]  144 	and	a, (0x03, sp)
      000084 6B 01            [ 1]  145 	ld	(0x01, sp), a
                                    146 ;	./src/stm8s_itc_GetSoftwarePriority.c: 109: break;
      000086 20 10            [ 2]  147 	jra	00123$
                                    148 ;	./src/stm8s_itc_GetSoftwarePriority.c: 128: case ITC_IRQ_TIM4_OVF:
      000088                        149 00120$:
                                    150 ;	./src/stm8s_itc_GetSoftwarePriority.c: 130: Value = (uint8_t)(ITC->ISPR6 & Mask); /* Read software priority */
      000088 C6 7F 75         [ 1]  151 	ld	a, 0x7f75
      00008B 14 03            [ 1]  152 	and	a, (0x03, sp)
      00008D 6B 01            [ 1]  153 	ld	(0x01, sp), a
                                    154 ;	./src/stm8s_itc_GetSoftwarePriority.c: 131: break;
      00008F 20 07            [ 2]  155 	jra	00123$
                                    156 ;	./src/stm8s_itc_GetSoftwarePriority.c: 133: case ITC_IRQ_EEPROM_EEC:
      000091                        157 00121$:
                                    158 ;	./src/stm8s_itc_GetSoftwarePriority.c: 134: Value = (uint8_t)(ITC->ISPR7 & Mask); /* Read software priority */
      000091 C6 7F 76         [ 1]  159 	ld	a, 0x7f76
      000094 14 03            [ 1]  160 	and	a, (0x03, sp)
      000096 6B 01            [ 1]  161 	ld	(0x01, sp), a
                                    162 ;	./src/stm8s_itc_GetSoftwarePriority.c: 139: }
      000098                        163 00123$:
                                    164 ;	./src/stm8s_itc_GetSoftwarePriority.c: 141: Value >>= (uint8_t)(((uint8_t)IrqNum % 4u) * 2u);
      000098 7B 01            [ 1]  165 	ld	a, (0x01, sp)
      00009A 88               [ 1]  166 	push	a
      00009B 7B 03            [ 1]  167 	ld	a, (0x03, sp)
      00009D 27 05            [ 1]  168 	jreq	00136$
      00009F                        169 00135$:
      00009F 04 01            [ 1]  170 	srl	(1, sp)
      0000A1 4A               [ 1]  171 	dec	a
      0000A2 26 FB            [ 1]  172 	jrne	00135$
      0000A4                        173 00136$:
      0000A4 84               [ 1]  174 	pop	a
                                    175 ;	./src/stm8s_itc_GetSoftwarePriority.c: 143: return((ITC_PriorityLevel_TypeDef)Value);
                                    176 ;	./src/stm8s_itc_GetSoftwarePriority.c: 144: }
      0000A5 5B 03            [ 2]  177 	addw	sp, #3
      0000A7 81               [ 4]  178 	ret
                                    179 	.area CODE
                                    180 	.area CONST
                                    181 	.area INITIALIZER
                                    182 	.area CABS (ABS)
